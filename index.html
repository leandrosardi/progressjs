<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>
		Templates.js - Demo Page
	</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width">

	<!--
	Exclude these libraries in the .min.js
	-->
	<script src="./javascripts/jquery-3.5.1.min.js" type="text/javascript"></script>
	<script src="./javascripts/1.3.0/adminflare-demo-init.min.js" type="text/javascript"></script>
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,300,600,700" rel="stylesheet" type="text/css">	
	<link href="./css/1.3.0/black-blue/bootstrap.min.css" media="all" rel="stylesheet" type="text/css" id="bootstrap-css">
	<link href="./css/1.3.0/black-blue/adminflare.min.css" media="all" rel="stylesheet" type="text/css" id="adminflare-css">
	<script src="https://cdn.jsdelivr.net/npm/@editorjs/editorjs@latest"></script>

	<!-- <script src="jquery-3.5.1.min.js" type="text/javascript"></script>
	<script src="commons.js" type="text/javascript"></script>
	<link rel="stylesheet" href="./templates.css"> -->

	<script src="./progress.min.js" type="text/javascript"></script>

</head>

<body>

	<div class="row">			

		<div class="control-group span4" >
			
			<button id='start' class='start-button btn btn-mini btn-blue' type='button'>START</button>
			<button id='cancel' class='cancel-button btn btn-mini btn-red' type='button'>CANCEL</button>

			<!-- <progress id="progress" value="0"></progress> -->
 	

				<div class="progress progress-blue progress-striped">
						<div class="bar" id="bar" value=0 style="width: 0%;"></div>
				</div>
			

		</div>
		
		<div class="control-group span8" >
			<textarea style="width: 750px;" rows="25">

				
				

			</textarea>
		</div>
	</div>

	
</body>

<script>

	 $(document).ready(function() {

        $('#start').click(function() {
            // returns an unique-identifier (a.k.a. handler) code to handle this pool of AJAX calls.
           var handler = progressJs.start({
                url: 'https://zinoui.com/demo/progress-bar/upload.php', // URL to send an AJAX POST call at every step of the progress.
    			type: 'GET', 
                datas: [ // Array of hashes. Each hash is the data to send to the access point at every step of the progress.
                    { first_name: 'Clark', last_name: 'Kent', role: 'Superman' }, 
                    { first_name: 'Bruce', last_name: 'Wayne', role: 'Batman' }, 
                    { first_name: 'Peter', last_name: 'Parker', role: 'Spiderman' }, 
                ],
                success: function(j,data) {
                    console.log("success func:we get response from jaax is ", data);
                  
                    console.log('count:' + progressJs.count(handler)); // number of AJAX calls requested
		    console.log('completed:' + progressJs.completed(handler)); // number of AJAX calls completed
		    console.log('failed:' + progressJs.failed(handler)); // number of AJAX calls failed due a communication issue. This method is 
                },
                error: function(j,data) {

                	console.log("errro fun: we get response from jaax is ", data);
                	
                	console.log('count:' + progressJs.count(handler)); // number of AJAX calls requested
		    console.log('completed:' + progressJs.completed(handler)); // number of AJAX calls completed
		    console.log('failed:' + progressJs.failed(handler)); // number of AJAX calls failed due a communication issue. This method is 

                    // j is the index in the array of data hashes.

                    // result,status,xhr are the parameters returned the standard AJAX library.
                    // Example:
                    // https://github.com/leandrosardi/tempora/blob/1.6.1/views/remote/dashboard.erb#L481

                    // The processing of AJAX calls has been interrumped, because one ajax call has failed.
                    // Report this issue in the screens.
                }

            });
           // progressJs.cancel(handler);
      //       console.log('count:' + progressJs.count(handler)); // number of AJAX calls requested
		    // console.log('completed:' + progressJs.completed(handler)); // number of AJAX calls completed
		    // console.log('failed:' + progressJs.failed(handler)); // number of AJAX calls failed due a communication issue. This method is not to handle the responses from the access point reoprting any issue at the server side.

        });



           
              


    });	
	
	
	
</script>

</html>

		