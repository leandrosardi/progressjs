

progressJs = {


     start: function(myData) {

		var progressBar = document.getElementById("progress"),
	   loadBtn = document.getElementById("start"),
	   display = document.getElementById("display");


     	
	      loadBtn.disabled = true;
	      loadBtn.innerHTML = 'processing';

     	// window.setTimeout(function(){
      //            // do whatever you want to do 
      //            alert("hello");    
      //             }, 600);

 	  	//upload(buildFormData());
     	// alert(myData['type']);
     	// alert(myData['url']);
     	

		result = JSON.stringify(myData['datas']);
			// alert(result)
			 console.log(result)


      var xhr = new XMLHttpRequest();


      xhr.onreadystatechange = function (oEvent) {
	    if (xhr.readyState === 4) {
	        if (xhr.status === 200) {
	          	myData['success'](xhr.responseText, xhr.status, xhr);
	        } else {
	           	myData['error'](xhr.responseText, xhr.status, xhr);
	        }
	    }
	};


 

	  xhr.open(myData['type'], "https://zinoui.com/demo/progress-bar/upload.php", true);
	 // if (xhr.upload) 
	  {
	  				 console.log("here ");

	    xhr.onprogress = function(e) {
	    	console.log("here 11 ", e);
	      if (e.lengthComputable) {
	        progressBar.max = e.total;
	        progressBar.value = e.loaded;
	        display.innerText = Math.floor((e.loaded / e.total) * 100) + '%';
	        			 console.log("onprogress ", e.lengthComputable)

			 console.log("onprogress ", e.total)

			 console.log("onprogress ", e.loaded)

	      }
	    }
	    xhr.onloadstart = function(e) {
	      progressBar.value = 0;
	      display.innerText = '0%';
	      console.log("onloadstart 8888" )

	    }
	    xhr.onloadend = function(e) {
	      progressBar.value = e.loaded;
	      loadBtn.disabled = false;
	      loadBtn.innerHTML = 'processing';
	      			 console.log("onloadend ", e.loaded)

	    }
	  }
	  xhr.send(result);
	      loadBtn.disabled = false;
	      loadBtn.innerHTML = 'start..';
	        console.log("TEST 2");

     	
     	
    function buildFormData() {
	  var fd = new FormData();

	  for (var i = 0; i < 3000; i += 1) {
	    fd.append('data[]', Math.floor(Math.random() * 999999));
	  }

	  return fd;
	}

	function success(reponse){
			        console.log("TEST 3");

		return reponse;

	}
 

		
       

    },




    

};